<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
  <script>
    let RanNum = 1;
    let computerSelection = 1;
    let playerChoise = 1;
    let winner = 1;
    let wins = 0;
    let lost = 0;
    let tie = 0;
    //play rock paper scissors
    
    function playRound(playerChoise, computerSelection){
      
      computerSelection = (getComputerChoise())
      playerChoise = (choose());
      //console.log("inside playRound");
      //console.log(playerChoise);
      //console.log(computerSelection);
      
            // compair choises to find a winnter
            // build win/lose message
            // output the winner.

      if (playerChoise === computerSelection){
        return ("it is a tie")
      } else if (playerChoise === "Rock" && computerSelection === "Paper"){
        return ("You Lose! Paper beats Rock")
      } else if (playerChoise === "Rock" && computerSelection === "Scissors"){
        return ("You Win! Rock beats Scissors")
      } else if (playerChoise === "Paper" && computerSelection === "Rock"){
        return ("You Win! Paper beats Rock")
      } else if (playerChoise === "Paper" && computerSelection === "Scissors"){
        return ("You Lose! Scissors beat Paper")
      } else if (playerChoise === "Scissors" && computerSelection === "Paper"){
        return ("You Win! Scissors beat Paper")
      } else if (playerChoise === "Scissors" && computerSelection === "Rock"){
        return ("You Lose! Rock beats Scissors")
      } else {
        return("This still needs to be programmed")
      }
     

    }


    // get computer choice. sub function
    function getComputerChoise(min, max){
 
      function computerRandom(min ,max){   // pick random number to select choice

        min = Math.ceil(1);
        max = Math.floor(4);
        return Math.floor(Math.random() * (4 - 1) + 1); // The maximum is exclusive and the minimum is inclusive
      }
      RanNum = computerRandom();    

      if (RanNum === 1){                      //update computer Selection to String
        computerSelection = "Rock"
      } else if(RanNum === 2){
        computerSelection = "Paper"
      } else {
        computerSelection = "Scissors"
      }
      return computerSelection;
    }

  
    //computerChoise = (getComputerChoise())
    //console.log(computerChoise);
  

     // prompt for the players choise
    function choose(){
      playerChoise = prompt("Choose Rock, Paper, or Scissors"); 
      let cap;
      let lower;

      // correct case upper/lower
      lower = playerChoise.slice(1).toLowerCase();
      cap = playerChoise.charAt(0).toUpperCase();
      playerChoise = cap + lower;
      
      // ask for valid choise or update playerSelection var

      while ( playerChoise != "Rock" && playerChoise != "Paper" && playerChoise != "Scissors"){
        playerChoise = prompt("please Choose 'Rock', 'Paper', or 'Scissors'");
        lower = playerChoise.slice(1).toLowerCase();
        cap = playerChoise.charAt(0).toUpperCase();
        playerChoise = cap + lower;
      }
      return (playerChoise)
    }


    //console.log(playerChoise);

    function game(){
      for(let i = 0; i < 5; i++){
        let game = (playRound());
        console.log(game);
        let outcome = game.slice(0, 8);
        if (outcome === "You Lose"){
          lost++;
        } else if (outcome === "You Win!"){
          wins++;
        } else {
          tie++;
        }
        //console.log(wins);
        //console.log(lost);
     
      }
      if (wins > lost){
          return("You Win! " + wins + " to " + lost)
        } else if(lost > wins){
          return("You Lose! " + wins + " to " + lost)
        }else{
          return("It's a Tie!")
        }
      //console.log(playRound(playerChoise, computerSelection));

    }
   console.log(game());

    
  </script>

    
</body>
</html>
